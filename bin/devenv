#!/bin/bash

if [[ "$PWD" == "$HOME" ]]; then
  echo "Do not run devenv from home directory, as the container's dotfiles will be mounted over."
  exit 1
fi

if [[ $* ]]; then
  docker-compose -f /usr/local/etc/docker-compose.yml run --rm devenv /bin/bash -i -c "$*"
else
  docker-compose -f /usr/local/etc/docker-compose.yml run --rm devenv
fi
